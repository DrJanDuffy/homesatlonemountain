---
import { Image } from 'astro:assets';
---

<header class="header">
  <div class="container">
    <nav class="nav">
      <a href="/" class="logo">
        <Image 
          src="/images/logo.png" 
          alt="Homes at Lone Mountain" 
          width={180} 
          height={40} 
          loading="eager"
        />
      </a>

      <div class="nav-links" id="nav-links">
        <a href="/search" class="nav-link">Search Homes</a>
        <a href="/communities" class="nav-link">Communities</a>
        <a href="/market-insights" class="nav-link">Market Insights</a>
        <a href="/about" class="nav-link">About</a>
        <a href="/contact" class="nav-link">Contact</a>
      </div>

      <div class="nav-actions">
        <button class="btn-secondary" onclick="window.location.href='/saved'">
          <svg class="icon" viewBox="0 0 24 24">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
          Saved
        </button>
        <button class="btn-primary" onclick="window.location.href='/contact'">
          Get in Touch
        </button>
      </div>

      <button class="menu-toggle" aria-label="Toggle Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
  </div>
</header>

<style>
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: white;
    box-shadow: var(--shadow-sm);
    padding: 1rem 0;
  }

  .nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem;
  }

  .logo {
    flex-shrink: 0;
  }

  .nav-links {
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  .nav-link {
    color: var(--color-primary);
    text-decoration: none;
    font-weight: 500;
    transition: color var(--transition);
  }

  .nav-link:hover {
    color: var(--color-secondary);
  }

  .nav-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .btn-primary,
  .btn-secondary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-sm);
    font-weight: 500;
    transition: all var(--transition);
    border: none;
    cursor: pointer;
  }

  .btn-primary {
    background: var(--color-secondary);
    color: white;
  }

  .btn-primary:hover {
    background: var(--color-primary);
  }

  .btn-secondary {
    background: var(--color-background);
    color: var(--color-primary);
  }

  .btn-secondary:hover {
    background: var(--color-background);
    color: var(--color-secondary);
  }

  .icon {
    width: 20px;
    height: 20px;
    fill: currentColor;
  }

  .menu-toggle {
    display: none;
    flex-direction: column;
    gap: 6px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px;
  }

  .menu-toggle span {
    display: block;
    width: 24px;
    height: 2px;
    background: var(--color-primary);
    transition: all var(--transition);
  }

  @media (max-width: 1024px) {
    .nav-links {
      display: none;
      position: fixed;
      top: 80px;
      left: 0;
      right: 0;
      background: white;
      padding: 2rem;
      flex-direction: column;
      align-items: flex-start;
      box-shadow: var(--shadow-sm);
    }

    .nav-links.active {
      display: flex;
    }

    .menu-toggle {
      display: flex;
    }

    .menu-toggle.active span:nth-child(1) {
      transform: translateY(8px) rotate(45deg);
    }

    .menu-toggle.active span:nth-child(2) {
      opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
      transform: translateY(-8px) rotate(-45deg);
    }
  }

  @media (max-width: 768px) {
    .nav-actions {
      display: none;
    }

    .nav-links.active {
      .nav-actions {
        display: flex;
        flex-direction: column;
        width: 100%;
        margin-top: 1rem;
      }
    }
  }
</style>

<script>
  const menuToggle = document.querySelector('.menu-toggle');
  const navLinks = document.querySelector('.nav-links');

  menuToggle?.addEventListener('click', () => {
    menuToggle.classList.toggle('active');
    navLinks?.classList.toggle('active');
  });
</script> 